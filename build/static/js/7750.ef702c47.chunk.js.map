{"version":3,"file":"static/js/7750.ef702c47.chunk.js","mappings":"2OAQMA,EAAWC,EAAAA,MAAW,kBAAM,4BAAN,IACtBC,EAAkBD,EAAAA,MAAW,kBAAM,uDAAN,IAqInC,UAhIwB,WAAO,IAAD,EAC1B,GAAwBE,EAAAA,EAAAA,UAAS,IAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAAoCF,EAAAA,EAAAA,WAAS,GAA7C,eAAOG,EAAP,KAAqBC,EAArB,KACA,GAAwBJ,EAAAA,EAAAA,YAAxB,eAAOK,EAAP,KAAaC,EAAb,MAIAC,EAAAA,EAAAA,YAAU,WAGL,IAAIC,EADLC,SAASC,MAAQ,gCAEjB,IAAIC,EAAMC,aAAaC,QAAQ,sBAC/B,uBAAC,4HACuBC,EAAAA,EAAAA,IAAqBH,GAD5C,OACGH,EADH,OAEGN,EAAO,UAACM,SAAD,aAAC,EAAaO,SAEzBH,aAAaI,QAAQ,cAAeC,KAAKC,UAAL,UAAeV,SAAf,aAAe,EAAaO,WAElD,QAAX,EAAAP,SAAA,mBAAaO,eAAb,mBAAsBI,mBAAtB,eAAmCC,QAAS,KAC3ChB,GAAY,GACZE,EAAO,UAACE,SAAD,iBAAC,EAAaO,eAAd,aAAC,EAAsBI,YAAYE,MAAM,EAAG,OAEnDf,EAAO,UAACE,SAAD,iBAAC,EAAaO,eAAd,aAAC,EAAsBI,cAEvB,QAAX,EAAAX,SAAA,eAAaO,UAAWO,IAZvB,0CAAD,EAcH,GAAE,IAEH,IAAMA,EAAY,WAAO,IAAD,MAChBd,EAAcS,KAAKM,MAAMX,aAAaC,QAAQ,gBAC9CW,EAAG,OAAGhB,QAAH,IAAGA,GAAH,UAAGA,EAAaiB,mBAAhB,aAAG,EAA2B,GACjCC,EAAI,OAAGlB,QAAH,IAAGA,GAAH,UAAGA,EAAaiB,mBAAhB,aAAG,EAA2B,GAEtCE,IAAAA,YAAuB,gGACvB,IAAMC,EAAM,IAAID,IAAAA,KAAa,CACzBE,UAAW,MACXC,MAAO,qCACPC,OAAQ,CAACL,EAAMF,GACfQ,KAAM,IAEP,CAAEC,oBAAoB,IA6BzB,OA1BW,OAAXzB,QAAW,IAAXA,GAAA,UAAAA,EAAa0B,gBAAb,eAAuBd,QAAS,IAAhC,OAAsCZ,QAAtC,IAAsCA,GAAAA,EAAa0B,SAASN,KAAI,SAAA3B,GAAS,IAAD,cAEhEyB,EAAI,OAAGzB,QAAH,IAAGA,GAAH,UAAGA,EAAMkC,iBAAT,iBAAG,EAAiBC,gBAApB,iBAAG,EAA2BX,mBAA9B,aAAG,EAAyC,GAEhDD,EAAG,OAAGvB,QAAH,IAAGA,GAAH,UAAGA,EAAMkC,iBAAT,iBAAG,EAAiBC,gBAApB,iBAAG,EAA2BX,mBAA9B,aAAG,EAAyC,GAE7CY,EAAS,IAAIV,IAAAA,QAAgB,CAAEW,MAAO,UAAWC,WAAW,IACjEC,UAAU,CAACd,EAAMF,IACjBiB,UAAS,IAAId,IAAAA,QAAiBe,QAArB,OAA6BzC,QAA7B,IAA6BA,GAA7B,UAA6BA,EAAMkC,iBAAnC,aAA6B,EAAiBQ,OACvDC,MAAMhB,GACXS,EAAOQ,cACPR,EAAOS,YAAY,GAElB,KAEDlB,EAAImB,WAAW,IAAIpB,IAAAA,mBAA2B,CAAEqB,gBAAgB,IAAU,YAE1EpB,EAAImB,WAAW,IAAIpB,IAAAA,oBAEnBC,EAAImB,WAAW,IAAIpB,IAAAA,kBAA0B,CACzCsB,gBAAiB,CACbC,oBAAoB,GAExBC,mBAAmB,EACnBC,iBAAiB,KAEdxB,CACV,EAOD,OACI,UAAC/B,EAAD,YACI,qBAASwD,UAAU,mBAAnB,WACI,UAAC,KAAD,YACI,SAAC,KAAD,WACI,SAAC,KAAD,CAAKC,GAAI,GAAT,UACI,gBAAID,UAAU,aAAd,WACI,uCACA,yBAAI,gBAAKE,IAAKC,EAAQ,MAAuCC,IAAI,kBACjE,+BAAKxD,QAAL,IAAKA,OAAL,EAAKA,EAAM0C,eAIvB,UAAC,KAAD,CAAKU,UAAU,mBAAf,WACI,SAAC,KAAD,CAAKC,GAAI,EAAT,UACI,iBAAKD,UAAU,YAAf,WAEI,SAAC,IAAD,CAAaK,IAAG,OAAEzD,QAAF,IAAEA,OAAF,EAAEA,EAAM0D,SAAUN,UAAU,eAAeO,MAAM,MAAMC,OAAO,MAAMC,UAAQ,EAACC,QAAM,KAEnG,eAAIV,UAAU,WAAd,gBAEKpD,QAFL,IAEKA,GAFL,UAEKA,EAAM+D,cAFX,aAEK,EAAcpC,KAAI,SAACjB,GAAD,OAChB,yBAAI,gBAAK4C,IAAK5C,EAAI8C,IAAI,WADN,YAO/B,SAAC,KAAD,CAAKH,GAAI,EAAT,UACI,iBAAKD,UAAU,aAAf,WACI,+BAAKpD,QAAL,IAAKA,OAAL,EAAKA,EAAM0C,QAGX,eAAGU,UAAU,WAAb,UAAyBhD,EAAzB,IAAgCF,IAAgB,iBAAM8D,QAAS,kBAtC3F3D,EAAO,OAACL,QAAD,IAACA,OAAD,EAACA,EAAMkB,kBACdf,GAAY,EAqC+E,EAAf,gCAGhD,gBAAKO,GAAG,MAAM0C,UAAU,qBAMxC,SAAC,KAAD,CAAWa,OAAK,EAAhB,UACI,gBAAKb,UAAU,6BAGvB,SAACtD,EAAD,MAGX,C","sources":["pages/destination-page.js"],"sourcesContent":["import mapboxGl from 'mapbox-gl';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Col, Container, Row } from 'reactstrap';\r\nimport ReactPlayer from 'react-player';\r\nimport 'mapbox-gl/dist/mapbox-gl.css';\r\nimport \"../assets/css/Pages.css\";\r\nimport { getSingleSubCategory } from '../api_utils';\r\n\r\nconst MainPage = React.lazy(() => import('../components/main-page/main-page'));\r\nconst ExperiencePlace = React.lazy(() => import('../components/destination-page/experience-place'));\r\n\r\n\r\n\r\n\r\nconst DestinationPage = () => {\r\n    const [data, setData] = useState([]);\r\n    const [showReadMore, setReadMore] = useState(false);\r\n    const [desc, setDesc] = useState();\r\n\r\n\r\n \r\n    useEffect(() => {\r\n     \r\n        document.title = \"Destination Page - Qool Qatar\";\r\n         var packageData;\r\n        let id =  localStorage.getItem(\"packageCategoryId\");\r\n        (async () => {\r\n            packageData = await getSingleSubCategory(id);\r\n            setData(packageData?.payload);\r\n\r\n        localStorage.setItem(\"packageData\", JSON.stringify(packageData?.payload));\r\n   \r\n        if(packageData?.payload?.description?.length > 150) {\r\n            setReadMore(true);\r\n            setDesc(packageData?.payload?.description.slice(0, 150));\r\n        } else {\r\n            setDesc(packageData?.payload?.description);\r\n        }\r\n        packageData?.payload && createMap();\r\n        })();\r\n    }, []);\r\n\r\n    const createMap = () => {\r\n        let packageData = JSON.parse(localStorage.getItem(\"packageData\"));\r\n        let lat = packageData?.coordinates?.[1];\r\n        let long = packageData?.coordinates?.[0];\r\n        //MAP\r\n        mapboxGl.accessToken = 'pk.eyJ1IjoibWVhemFkMTM1MCIsImEiOiJjbDVwbGNncTIwYmFpM2tuMnY3eHBlM2VhIn0._eM88ThriAOOttj-IY7OGQ';\r\n        const map = new mapboxGl.Map({\r\n            container: 'map', // container ID\r\n            style: 'mapbox://styles/mapbox/streets-v11', // style URL\r\n            center: [long, lat], // starting position [lng, lat]\r\n            zoom: 13, // starting zoom\r\n            // projection: 'globe' // display the map as a 3D globe\r\n        }, { attributionControl: false }\r\n        )\r\n\r\n        packageData?.packages?.length > 0  && packageData?.packages.map(data => {\r\n       \r\n            let long = data?.packageId?.location?.coordinates?.[0];\r\n            \r\n            let lat = data?.packageId?.location?.coordinates?.[1];\r\n            \r\n            const marker = new mapboxGl.Marker({ color: \"#A2195B\", draggable: false })\r\n            .setLngLat([long, lat])\r\n            .setPopup(new mapboxGl.Popup().setHTML(data?.packageId?.name))\r\n            .addTo(map);\r\n        marker.togglePopup();\r\n        marker.setRotation(10);\r\n    \r\n        });\r\n\r\n        map.addControl(new mapboxGl.NavigationControl({ visualizePitch: false }), 'top-left');\r\n\r\n        map.addControl(new mapboxGl.FullscreenControl());\r\n\r\n        map.addControl(new mapboxGl.GeolocateControl({\r\n            positionOptions: {\r\n                enableHighAccuracy: true\r\n            },\r\n            trackUserLocation: true,\r\n            showUserHeading: true\r\n        }));\r\n        return map;\r\n    }\r\nconst readMore  = () => {\r\n    setDesc(data?.description);\r\n    setReadMore(false);\r\n}\r\n\r\n\r\n    return (\r\n        <MainPage>\r\n            <section className=\"destination-page\">\r\n                <Container>\r\n                    <Row>\r\n                        <Col lg={12}>\r\n                            <ul className=\"breadcrumb\">\r\n                                <li>Top Picks</li>\r\n                                <li><img src={require('../assets/images/chevron-right.png')} alt=\"rightarrow\" /></li>\r\n                                <li>{data?.name}</li>\r\n                            </ul>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row className=\"destination-info\">\r\n                        <Col lg={4}>\r\n                            <div className=\"pick-left\">\r\n                                \r\n                                <ReactPlayer url={data?.videoUrl} className=\"video-player\" width=\"450\" height=\"450\" controls volume/>\r\n                         \r\n                                <ul className=\"img-list\">\r\n                                   \r\n                                    {data?.photos?.map((id) => \r\n                                       <li><img src={id} alt=\"small\"/></li> \r\n                                    )}\r\n\r\n                                </ul>\r\n                            </div>\r\n                        </Col>\r\n                        <Col lg={8}>\r\n                            <div className=\"pick-right\">\r\n                                <h1>{data?.name}</h1>\r\n                                {/* <p className=\"location\">{data?.address}</p> */}\r\n                                {/* <p className=\"pick-txt\">Souq Waqif is a marketplace in Doha, in the state of Qatar. The souq sells traditional garments, spices, handicrafts, and souvenirs. <a href=\"/\">Read more</a></p> */}\r\n                                <p className=\"pick-txt\">{desc} {showReadMore && <span onClick={() => readMore()}> ... Read more</span>}</p>\r\n                                {/* <img src={require('../assets/images/Mapsicle-Map.png')} alt=\"map\" /> */}\r\n\r\n                                <div id='map' className='mapp' />\r\n\r\n                            </div>\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n                <Container fluid>\r\n                    <div className=\"destination-bottom\"></div>\r\n                </Container>\r\n            </section>\r\n            <ExperiencePlace />\r\n        </MainPage>\r\n    )\r\n}\r\n\r\nexport default DestinationPage;\r\n"],"names":["MainPage","React","ExperiencePlace","useState","data","setData","showReadMore","setReadMore","desc","setDesc","useEffect","packageData","document","title","id","localStorage","getItem","getSingleSubCategory","payload","setItem","JSON","stringify","description","length","slice","createMap","parse","lat","coordinates","long","mapboxGl","map","container","style","center","zoom","attributionControl","packages","packageId","location","marker","color","draggable","setLngLat","setPopup","setHTML","name","addTo","togglePopup","setRotation","addControl","visualizePitch","positionOptions","enableHighAccuracy","trackUserLocation","showUserHeading","className","lg","src","require","alt","url","videoUrl","width","height","controls","volume","photos","onClick","fluid"],"sourceRoot":""}