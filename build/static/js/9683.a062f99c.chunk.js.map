{"version":3,"file":"static/js/9683.a062f99c.chunk.js","mappings":"2MA4BAA,EAAAA,EAAAA,cApBqB,CASnBC,OAAQ,0CACRC,WAAY,4BACZC,YAAa,mCACbC,UAAW,YACXC,cAAe,wBACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAKjB,MAAeR,EAAf,E,kEC8IA,EA7JkB,WAEhB,OAA4BS,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA0BF,EAAAA,EAAAA,WAAS,GAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAAsBJ,EAAAA,EAAAA,UAAS,IAA/B,eAAOK,EAAP,KAAYC,EAAZ,KACA,GAAwBN,EAAAA,EAAAA,UAAS,MAAjC,eAAOO,EAAP,KAAaC,EAAb,KAEMC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACRC,UAAUC,YAAYC,oBAAmB,SAAUC,GACjDC,MAAM,uDAAD,OAAwDD,EAASE,OAAOC,SAAxE,gBAAwFH,EAASE,OAAOE,UAAxG,uBACFC,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAAAG,GACJC,QAAQC,IAAIF,EAAKG,SAAS,GAAGC,aAC7BnB,EAAQe,EAAKG,SAAS,GAAGC,qBAG9B,IAEH,IAAMC,EAAmB,WAEvBC,OAAOC,kBAAoB,IAAIvC,EAASwC,KAAKC,kBAAkB,sBAAuB,CACpF,KAAQ,YACR,SAAY,SAACX,GAEXG,QAAQC,IAAI,sBAGdQ,eAAgB1B,KAmEd2B,EAAe,SAACC,GACpBA,EAAEC,iBACF3B,EAAS,KACToB,OAAOQ,SAASC,UAWlB,OACE,0BACE,gBAAKC,UAAU,mBAAf,SACY,GAATpC,GACC,iBAAKoC,UAAU,qBAAf,WACE,SAAC,MAAD,CAAiBA,UAAU,SAASC,QAASN,KAC7C,cAAGK,UAAU,uBAAb,iDACA,kBAAOA,UAAU,2BAAjB,iCACA,SAAC,KAAD,CACEN,eAAgB1B,EAChBkC,MAAOxC,EACPyC,SAAUxC,EACVyC,YAAY,qBACZJ,UAAU,SAEZ,gBAAKK,GAAG,yBACR,mBAAQJ,QA7FG,SAACL,GACpB,GAAW,IAARlC,EAAY,CACbG,GAAS,GACT+B,EAAEC,iBACJR,IACA,IAAMiB,EAAc5C,EAEd6C,EAAcjB,OAAOC,kBAC3BvC,EAASwC,OAAOgB,sBAAsBF,EAAaC,GAChD1B,MAAK,SAAC4B,GACLnB,OAAOmB,mBAAqBA,EAC5BxB,QAAQC,IAAI,wBAEXwB,OAAM,SAACC,GAGR1B,QAAQC,IAAIyB,GACZ1B,QAAQC,IAAI,wBAGd0B,MAAM,4BAyE+BZ,UAAU,yBAAzC,yBAIF,iBAAKA,UAAU,qBAAf,WACE,SAAC,MAAD,CAAiBA,UAAU,SAASC,QAASN,KAC7C,SAAC,MAAD,CAAqBK,UAAU,SAASC,QA9B7B,SAACL,GACpBA,EAAEC,iBACFhC,GAAS,OA6BD,gBAAKwC,GAAG,yBACR,cAAGL,UAAU,uBAAb,wBAEA,eAAGA,UAAU,yBAAb,8BAAwD,eAAGA,UAAU,yBAAb,cAAwCtC,SAEhG,gBAAKsC,UAAU,oBAAf,UACA,SAAC,IAAD,CACEE,MAAOpC,EACPqC,SAAUpC,EACV8C,UAAW,EACXC,WAAW,gCACXd,UAAU,mBAKZ,mBAAQC,QA3FA,SAACL,GAEjBA,EAAEC,iBACF,IAAM7B,EAAOF,EACbmB,QAAQC,IAAIlB,GACZsB,OAAOmB,mBAAmBM,QAAQ/C,GAAMa,MAAK,SAACmC,GAE/BA,EAAOC,KAEpBL,MAAM,oBACN1C,EAAS,QAERwC,OAAM,SAACC,QA+E0BX,UAAU,yBAAtC","sources":["firebase.js","pages/otp-signIn.js"],"sourcesContent":["// import firebase from \"firebase/compat/app\";\r\n// import 'firebase/compat/auth';\r\nimport firebase from \"firebase/app\";\r\nimport 'firebase/auth'\r\nimport 'firebase/database'\r\n// import 'firebase/compat/auth';\r\n\r\n\r\nvar firebaseConfig = {\r\n  // apiKey: \"AIzaSyCdQZ0UAGR8jOIrq4FjEDbIO7E_31_rwrk\",\r\n  // authDomain: \"contact-form-bf513.firebaseapp.com\",\r\n  // databaseURL: \"https://contact-form-bf513-default-rtdb.firebaseio.com\",\r\n  // projectId: \"contact-form-bf513\",\r\n  // storageBucket: \"contact-form-bf513.appspot.com\",\r\n  // messagingSenderId: \"531061036190\",\r\n  // appId: \"1:531061036190:web:b0d94e1e29df676823578f\"\r\n\r\n  apiKey: \"AIzaSyBWY7T01nWHIzcJsUcklbBHHn2apCVh0Uo\",\r\n  authDomain: \"fornodejs.firebaseapp.com\",\r\n  databaseURL: \"https://fornodejs.firebaseio.com\",\r\n  projectId: \"fornodejs\",\r\n  storageBucket: \"fornodejs.appspot.com\",\r\n  messagingSenderId: \"132742348810\",\r\n  appId: \"1:132742348810:web:2ed29ac50d8f33f4645ff3\",\r\n  measurementId: \"G-R1H5JTJKKH\"\r\n};\r\n\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nexport default firebase;\r\n","import React, { useEffect, useState } from 'react';\r\nimport firebase from '../firebase';\r\nimport { useNavigate } from 'react-router';\r\nimport PhoneInput from \"react-phone-number-input\";\r\n// import \"../App.css\";\r\nimport \"../assets/css/OTPSignIn.css\"\r\nimport \"react-phone-number-input/style.css\";\r\n// import OTPInput, { ResendOTP } from \"otp-input-react\";\r\nimport OtpInput from 'react-otp-input';\r\nimport { MdOutlineCancel } from 'react-icons/md';\r\nimport { IoIosArrowRoundBack } from 'react-icons/io';\r\n\r\n\r\n\r\nconst OTPSignIN = () => {\r\n\r\n  const [number, setNumber] = useState('');\r\n  const [click, setClick] = useState(false);\r\n  const [OTP, setOTP] = useState(\"\");\r\n  const [code, setCode] = useState('QA');\r\n\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    navigator.geolocation.getCurrentPosition(function (position) {\r\n      fetch(`http://api.geonames.org/findNearbyPlaceNameJSON?lat=${position.coords.latitude}&lng=${position.coords.longitude}&username=azad1350`)\r\n        .then((response) => response.json())\r\n        .then(data => {\r\n          console.log(data.geonames[0].countryCode)\r\n          setCode(data.geonames[0].countryCode)\r\n        });\r\n    });\r\n  }, [])\r\n\r\n  const configureCaptcha = () => {\r\n\r\n    window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('recaptcha-container', {\r\n      'size': 'invisible',\r\n      'callback': (response) => {\r\n        // reCAPTCHA solved, allow signInWithPhoneNumber.\r\n        console.log(\"Recaptca varified\")\r\n        // handleNumber();\r\n      },\r\n      defaultCountry: code\r\n    });\r\n  }\r\n\r\n  const handleNumber = (e) => {\r\n    if(number!='') {\r\n      setClick(true)\r\n      e.preventDefault()\r\n    configureCaptcha()\r\n    const phoneNumber = number\r\n    // console.log(phoneNumber)\r\n    const appVerifier = window.recaptchaVerifier;\r\n    firebase.auth().signInWithPhoneNumber(phoneNumber, appVerifier)\r\n      .then((confirmationResult) => {\r\n        window.confirmationResult = confirmationResult;\r\n        console.log(\"OTP has been sent\")\r\n        // ...\r\n      }).catch((error) => {\r\n        // Error; SMS not sent\r\n        // ...\r\n        console.log(error)\r\n        console.log(\"SMS not sent\")\r\n      });\r\n    } else {\r\n      alert('Enter the Mobile Number')\r\n    }\r\n    \r\n  }\r\n\r\n  const handleOTP = (e) => {\r\n    // console.log(\"k\"+OTP)\r\n    e.preventDefault()\r\n    const code = OTP\r\n    console.log(code)\r\n    window.confirmationResult.confirm(code).then((result) => {\r\n      // User signed in successfully.\r\n      const user = result.user;\r\n      // console.log(JSON.stringify(user))\r\n      alert(\"User is verified\")\r\n      navigate('/')\r\n      // ...\r\n    }).catch((error) => {\r\n      // User couldn't sign in (bad verification code?)\r\n      // ...\r\n    });\r\n  }\r\n\r\n  const resend = (e) => {\r\n    configureCaptcha()\r\n    const phoneNumber = number\r\n    console.log(phoneNumber)\r\n    const appVerifier = window.recaptchaVerifier;\r\n    firebase.auth().signInWithPhoneNumber(phoneNumber, appVerifier)\r\n      .then((confirmationResult) => {\r\n        // SMS sent. Prompt user to type the code from the message, then sign the\r\n        // user in with confirmationResult.confirm(code).\r\n        window.confirmationResult = confirmationResult;\r\n        console.log(\"OTP has been sent\")\r\n        // ...\r\n      }).catch((error) => {\r\n        // Error; SMS not sent\r\n        // ...\r\n        console.log(error)\r\n        console.log(\"SMS not sent\")\r\n      });\r\n  }\r\n\r\n  const handelIcon_1 = (e) => {\r\n    e.preventDefault()\r\n    navigate(\"/\")\r\n    window.location.reload()\r\n  }\r\n\r\n  const handelIcon_2 = (e) => {\r\n    e.preventDefault()\r\n    setClick(false)\r\n    // navigate(\"/\")\r\n    // window.location.reload()\r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      <div className='signIn-container'>\r\n        {click == false ?\r\n          <div className='signIn-container-1'>\r\n            <MdOutlineCancel className='icon-1' onClick={handelIcon_1} />\r\n            <p className='signIn-container-1-p'>Sign-in to experience the best of </p>\r\n            <label className='signIn-container-1-label'>Enter Phone Number</label>\r\n            <PhoneInput\r\n              defaultCountry={code}\r\n              value={number}\r\n              onChange={setNumber}\r\n              placeholder=\"Enter Phone Number\"\r\n              className='inp'\r\n            />\r\n            <div id='recaptcha-container'></div>\r\n            <button onClick={handleNumber} className='signIn-container-1-btn'>Get OTP</button>\r\n\r\n          </div>\r\n          :\r\n          <div className='signIn-container-1'>\r\n            <MdOutlineCancel className='icon-1' onClick={handelIcon_1} />\r\n            <IoIosArrowRoundBack className='icon-2' onClick={handelIcon_2} />\r\n            <div id='recaptcha-container'></div>\r\n            <p className='signIn-container-2-p'>Enter OTP</p>\r\n\r\n            <p className='signIn-container-1-p-3'>OTP Sent to &nbsp;<p className='signIn-container-1-p-4'> {number}</p></p>\r\n\r\n            <div className='otp-inp-container'>\r\n            <OtpInput\r\n              value={OTP}\r\n              onChange={setOTP}\r\n              numInputs={6}\r\n              separator={<span>-</span>}\r\n              className='otp-inp-box'\r\n            />\r\n              </div>\r\n            {/* <OTPInput className='otp-inp' value={OTP} onChange={setOTP} autoFocus OTPLength={6} otpType=\"number\" disabled={false} secure={false} /> */}\r\n            {/* <ResendOTP onResendClick={resend} /> */}\r\n            <button onClick={handleOTP} className='signIn-container-2-btn'>Get Started</button>\r\n          </div>\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default OTPSignIN"],"names":["firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","useState","number","setNumber","click","setClick","OTP","setOTP","code","setCode","navigate","useNavigate","useEffect","navigator","geolocation","getCurrentPosition","position","fetch","coords","latitude","longitude","then","response","json","data","console","log","geonames","countryCode","configureCaptcha","window","recaptchaVerifier","auth","RecaptchaVerifier","defaultCountry","handelIcon_1","e","preventDefault","location","reload","className","onClick","value","onChange","placeholder","id","phoneNumber","appVerifier","signInWithPhoneNumber","confirmationResult","catch","error","alert","numInputs","separator","confirm","result","user"],"sourceRoot":""}